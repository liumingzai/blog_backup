---
title: get和post分别发送了1次还是2次tcp链接
date: 2021-02-07 10:50:14
tags:
  - Http
  - TCP
  - GET|POST请求
---

> 面试ydy的时候面试官给出的一道题，让我不得不重新复习一下http请求，之前只是觉得二者请求方式，请求参数的区别。

*http请求中, get和post分别发送了就此和2次tcp链接*
+ 当发送Get请求时，浏览器会携带header和data发出，客户端根据返回的状态码200获取数据
+ 当发送Post请求是，浏览器先发送header，征求服务器情况，看服务是否响应处理该请求，如果服务器返回http 100-continue客户端在吧data数据发送给服务器。同样客户端根据返回状态码200获取数据

*延伸输入url都发生了什么？* 
+ 域名解析实际是DNS域名解析IP地址过程（浏览器自身DNS缓存->操作系统自身DNS缓存->路由器缓存->ISP互联网服务提供商DNS缓存
+ 发起TCP的3次握手
+ 建立TCP链接后发起http请求包括（请求行【请求的方法，请求地址URL，协议版本】，请求头【userAgent，数据格式、数据编码格式，数据语言，链接属性】，请求数据）
+ 服务器响应http请求包括（状态行【协议版本，状态码，状态码描述】，响应头【服务器应用软件及版本，相应数据类型，响应数据编码，相应数据格式，相应数据语言】，响应数据）
+ 浏览器解析html（并请求html中网络资源js css 图片）
+ 关闭TCP链接,浏览器对页面进行渲染



*http返回状态码是100是什么用途？*
解释该问题前我们先了解一下http的状态码或者说响应的类型：1xx信息提示；2xx成功；3xx重定向；4xx客户端错误；500服务器错误；
100 Continue该状态码是HTTP/1.1版本定义的，说明服务器收到请求初始部分，返回客户端继续发送的指令
如果服务器不接受客户端将要发送的主体报文会返回417 Expectation Failed.


*http请求post和get的区别？*老生常谈的题目，我们温故而知新
+ 参数类型方面：Get接受ASCII字符，POST没有限制
+ 浏览器location.go(-1)回退操作，GET是无害的，POST会再次提交请求，如果不想再次发送请求，需要通过时间拦截
+ 浏览器缓存：GET请求会被浏览器主动cache，POST不会
+ 请求参数长度限制：GET请求参数有长度不超过（8kb由服务器配置不同浏览器不同） POST没有
+ 安全方面：GET参数直接暴露在url中不够安全
+ 编码方式：GET编码方式只能进行url编码（中文字符串编码和解码问题），POST可以支持多种编码方式（表单提交，文件上传，json字符串， text/xml）
+ 书签栏：GET请求产生的url会被bookMark，POST不会
上述是小料，面试官最想听到的还是请求次数的差异，也是本篇章的主题

*TCP的三次握手和四次挥手也是必考题我们复习一下*
还在研究中。。。。
